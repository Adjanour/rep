<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Print Pricing Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">
    <div class="bg-white p-6 rounded-xl shadow-lg max-w-md w-full">
        <h2 class="text-2xl font-bold text-gray-800 mb-4 text-center">3D Print Pricing Calculator</h2>
        <div class="space-y-4">
            <input type="number" id="length" placeholder="Length (cm)" min="0.1" step="0.1" 
                   class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none" 
                   autofocus>
            <input type="number" id="width" placeholder="Width (cm)" min="0.1" step="0.1" 
                   class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none">
            <input type="number" id="height" placeholder="Height (cm)" min="0" step="0.1" 
                   class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none">
            <select id="materialType" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none">
                <option value="1">PLA (Standard)</option>
                <option value="1.2">ABS</option>
                <option value="1.5">Resin</option>
            </select>
            <button onclick="calculatePrice()" 
                    class="w-full p-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 font-semibold">
                Calculate Price
            </button>
        </div>
        <div id="result" class="mt-4 p-4 bg-gray-50 rounded-lg text-gray-800"></div>
        <p class="mt-2 text-sm text-red-600 text-center">* Prices are estimates and may vary based on model complexity.</p>
    </div>

    <script>
        function calculatePrice() {
            const resultDiv = document.getElementById("result");
            const length = parseFloat(document.getElementById("length").value) || 0;
            const width = parseFloat(document.getElementById("width").value) || 0;
            let height = parseFloat(document.getElementById("height").value) || 0;
            const adjustmentFactor = parseFloat(document.getElementById("materialType").value) || 1;

            // Input validation
            if (length <= 0 || width <= 0) {
                resultDiv.innerHTML = `<p class="text-red-600 font-semibold">Please enter valid length and width (greater than 0).</p>`;
                return;
            }
            if (height === 0) {
                height = 1; // Default to area if height is zero
            }

            const costPerUnit = 0.4; // Cost per cmÂ³
            const labourCost = 15; // Flat labour cost
            const overhead = 10; // Overhead cost
            const profitMargin = 10; // Hidden profit margin

            const volume = length * width * height;
            
            // Volume discount for large prints
            let effectiveCostPerUnit = costPerUnit;
            if (volume > 1000) {
                effectiveCostPerUnit *= 0.9; // 10% discount
            }

            const materialCost = volume * effectiveCostPerUnit * adjustmentFactor;
            const totalCost = materialCost + labourCost + overhead;
            const finalPrice = totalCost * (1 + profitMargin / 100);

            // Display final price and simplified breakdown
            resultDiv.innerHTML = `
                <p class="text-lg font-semibold">Final Price: GHS ${finalPrice.toFixed(2)}</p>
                <p class="text-sm mt-2">Breakdown:</p>
                <ul class="text-sm list-disc list-inside">
                    <li>Material: GHS ${materialCost.toFixed(2)}</li>
                    <li>Labour: GHS ${labourCost.toFixed(2)}</li>
                    <li>Overhead: GHS ${overhead.toFixed(2)}</li>
                </ul>
            `;
        }
    </script>
</body>
</html>
